<Window x:Class="ForTheKingWFP.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ForTheKingWFP.View"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
	<Grid >
		<Grid.RowDefinitions>
			<RowDefinition Height="*" />
			<RowDefinition Height="60" />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*" />
			<ColumnDefinition Width="*" />
			<ColumnDefinition Width="*" />
		</Grid.ColumnDefinitions>

		<Grid x:Name="matrix" Grid.Row="0" Grid.ColumnSpan="3" Margin="2,2,2,2">
			<ItemsControl ItemsSource="{Binding ObservableFields}" Grid.Row="0" Grid.ColumnSpan="2" Margin="10,10,10,10">
				<ItemsControl.ItemsPanel>
					<ItemsPanelTemplate>
						<UniformGrid Rows="{Binding TableSize}" Columns="{Binding TableSize}" />
					</ItemsPanelTemplate>
				</ItemsControl.ItemsPanel>

				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<Button Margin="0,0,0,0" Padding="0">
							<Button.Style>
								<Style TargetType="Button">
									<Style.Triggers>
										<DataTrigger Binding="{Binding Value}" Value="Empty">
											<Setter Property="Background" Value="LightGreen" />
										</DataTrigger>
										<DataTrigger Binding="{Binding Value}" Value="Castle">
											<Setter Property="Background" Value="Gray" />
										</DataTrigger>
										<DataTrigger Binding="{Binding Value}" Value="Ally">
											<Setter Property="Background" Value="DarkGreen" />
										</DataTrigger>
										<DataTrigger Binding="{Binding Value}" Value="Enemy">
											<Setter Property="Background" Value="Red" />
										</DataTrigger>
									</Style.Triggers>
								</Style>
							</Button.Style>
						</Button>
					</DataTemplate>
				</ItemsControl.ItemTemplate>

				<ItemsControl.ItemContainerStyle>
					<Style>
						<Setter Property="Grid.Row" Value="{Binding Y}" />
						<Setter Property="Grid.Column" Value="{Binding X}" />
					</Style>
				</ItemsControl.ItemContainerStyle>
			</ItemsControl>
		</Grid>

		<Button Name="buttonStart" Grid.Row="1" Grid.Column="0" Content="New Game" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="16"  Height="25" IsEnabled="True" Command="{Binding NewGameCommand}" />
		<Label Name="timer" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="16"  Height="40" Content="{Binding Timer}" />
		<Label Name="gold" Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="16"  Height="40" Content="{Binding Gold}" />
	</Grid>
</Window>